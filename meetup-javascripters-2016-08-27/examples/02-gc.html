<!DOCTYPE html>
<html>

<head>
    <title>GC</title>
    <link rel="stylesheet" type="text/css" href="examples.css">
    <script type="text/javascript">
    var intervalId = null, params;
    function createChunks() {
        var foo, i, str;
        for (i = 0; i < 20; i++) {
            div = document.createElement("div");
            str = new Array(1000000).join('x');
            foo = {
                str: str,
                div: div
            };
            div.foo = foo;
        }
    }
    function start() {
        if (intervalId) {
            return;
        }
        intervalId = setInterval(createChunks, 1000);
    }
    function stop() {
        if (intervalId) {
            clearInterval(intervalId);
        }
        intervalId = null;
    }
    </script>
</head>

<body>
    <h1>GC</h1>
    <p>
        <button onclick="start()">Start creating chunks</button>
    </p>
    <p>
        <button onclick="stop()">Stop!</button>
    </p>
    <hr><pre>'use strict';
var intervalId = null, params;

function createChunks() {
    var foo, i, str;
    for (i = 0; i < 20; i++) {
        div = document.createElement("div");
        str = new Array(1000000).join('x');
        foo = {
            str: str,
            div: div
        };
        div.foo = foo;
    }
}

function start() {
    if (intervalId) {
        return;
    }
    intervalId = setInterval(createChunks, 1000);
}

function stop() {
    if (intervalId) {
        clearInterval(intervalId);
    }
    intervalId = null;
}</pre></body></html>